# NavbarRouter

This is a NavigationBar widget created by considering the advanced use cases in real world flutter applications.This widget handles the boilerplate code required to handle some of the most common features with minimal code and hassle. All you need to do is specify the navbar menu items, routes and destinations and the rest will be taken care by the navbar_router.

## Background

The inspiration to build this package came from my triage work for flutter. Someone raised an issue saying the backbutton on Android does not pop the nested route. Googling around this issue I realized theres not much resources around this and its a very common usecase to have in any mobile app. So I digged deeper around this and wrote a sample app and then published a blog post with some few common features.

> Curious how the navbar_router works?

Read more in a [medium blog post](https://maheshmnj.medium.com/everything-about-the-bottomnavigationbar-in-flutter-e99e5470dddb) for detailed explanation.

Triage discussion here https://github.com/flutter/flutter/issues/103028

Youtube: [Heres a discussion](https://www.youtube.com/watch?v=IhlikgW8OY8&t=614s) I had with Allen Wyma from Flying high with Fluter regarding this package.

### Features

- Choose between different NavigationBar types.
- Remembers navigation history of Navbar (Android).
- Ability to push routes in the nested or root navigator
- Intercept back button press to handle app exits (Android).
- Fading between NavbarDestinations
- Programmatically control state of bottom navbar from any part of widget tree e.g change index, - - hide/show bottom navbar, pop routes of a specific tab etc
- persist state across bottom navbar tabs.
- Jump to base route from a deep nested route with a single tap(same as instagram).
- Adapatable to different device Sizes.


This package will help you save atleast 50% lines of code in half the time required to implement the above features. Heres the same sample app without the package which requires around 800 lines of code.

## Getting Started

### Installation

```bash
flutter pub add navbar_router
```

### Usage

```dart

import 'package:flutter/material.dart';
import 'package:navbar_router/navbar_router.dart';
```

### Specify routes

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'NavbarRouter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: NavbarRouter(
        routes: {
          '/': (context) => MyHomePage(title: 'NavbarRouter Demo Home Page'),
          '/second': (context) => SecondPage(),
        },
        items: [
          NavbarItem(
            icon: Icons.home,
            label: 'Home',
            route: '/',
          ),
          NavbarItem(
            icon: Icons.settings,
            label: 'Settings',
            route: '/second',
          ),
        ],
      ),
    );
  }
}
```

### NavbarItem
It is a single item in the navbar. It takes in the following parameters.
**icon**: The icon to be shown in the navbar.

**label**: The label to be shown in the navbar.

**route**: The route to be pushed when the NavbarItem is selected.

```dart

NavbarItem(
  icon: Icons.home,
  label: 'Home',
  route: '/',
),

```

Heres how the output of the abovce code sample will look.

![demo](https://user-images.githubusercontent.com/31410839/228031434-0e35737d-83cf-4b33-afe2-4b0f77f0cc5c.gif)


#### Parameters of NavbarRouter widget.

**backButtonBehavior**:An enum which decides, How the back button is handled, defaults to `BackButtonBehavior.rememberHistory`.

***destinations***: A List of `DestinationRouter` to show when the user taps the [NavbarItem].
Each DestinationRouter specifies a List of Destinations, initialRoute, and the navbarItem corresponding to that destination.

**type**: The type of NavigationBar to be passed to NavbarRouter defaults to `NavbarType.standard`. This allows you to choose between the default `NavbarType.standard` and `NavbarType.notched`.

***decoration*** : The decoraton for Navbar has all the properties you would expect in a [BottomNavigationBar] to adjust the style of the Navbar.

***destinationAnimationCurve***: Curve for the destination animation when the user taps a navbar item. Defaults to `Curves.fastOutSlowIn`.

***destinationAnimationDuration***: The duration in milliseconds of the animation of the destination. Defaults to 700ms.

***errorBuilder***: A WidgetBuilder to show the user when the user tried to navigate to a route that does not exist in the [destinations].

**initialIndex**: Navbar item that is initially selected, defaults to the first item in the list of [NavbarItems]

***isDesktop***: if true, navbar will be shown on the left, this property can be used along with `NavbarDecoration.isExtended` to make the navbar adaptable for large screen sizes.

***onBackButtonPressed***: A function which defines whether it is the root Navigator or not. if the method returns true then the Navigator is at the base of the navigator stack

***onChanged***: A callback that is called when the currentIndex of the navbarchanges.

***shouldPopToBaseRoute***: A boolean which decides, whether the navbar should pop to the base route (pop all except first) when the current navbar is tapped while the route is deeply nested. This feature is similar to Instagram's navigation bar defaults to true.