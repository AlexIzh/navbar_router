# NavbarRouter

This is a NavigationBar widget created by considering the advanced use cases in real world flutter applications.This widget handles the boilerplate code required to handle some of the most common features with minimal code and hassle. All you need to do is specify the navbar menu items, routes and destinations and the rest will be taken care by the navbar_router.

### Background

The inspiration to build this package came from my triage work for flutter. Someone raised an issue saying the backbutton on Android does not pop the nested route. Googling around this issue I realized theres not much resources around this and its a very common usecase to have in any mobile app. So I digged deeper around this and wrote a sample app and then published a blog post with some additional features which I needed in one of my projects.

> Curious how the navbar_router was built?

Read more in a [medium blog post](https://maheshmnj.medium.com/everything-about-the-bottomnavigationbar-in-flutter-e99e5470dddb) for detailed explanation.

Triage discussion here https://github.com/flutter/flutter/issues/103028

Youtube: [Heres a discussion](https://www.youtube.com/watch?v=IhlikgW8OY8&t=614s) I had with Allen Wyma from Flying high with Fluter regarding this package.

### Features

- Choose between different NavigationBar types.
- Remembers navigation history of Navbar (Android).
- Ability to push routes in the nested or root navigator
- Intercept back button press to handle app exits (Android).
- Fading between NavbarDestinations
- Programmatically control state of bottom navbar from any part of widget tree e.g change index, - - hide/show bottom navbar, pop routes of a specific tab etc
- persist state across bottom navbar tabs.
- Jump to base route from a deep nested route with a single tap(same as instagram).
- Adapatable to different device Sizes.

**For more detailed explanation see [features section](/features)**

> This package can effortlessly trim down your codebase by a remarkable 50% and expedite the implementation of the aforementioned features by half the time.
 Heres the same sample app without the package which requires around 800 lines of code.

## Getting Started

### Add the package

```bash
flutter pub add navbar_router
```

### Import the package

```dart

import 'package:flutter/material.dart';
import 'package:navbar_router/navbar_router.dart';
```

### Use NavbarRouter

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'NavbarRouter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: NavbarRouter(
        routes: {
          '/': (context) => MyHomePage(title: 'NavbarRouter Demo Home Page'),
          '/second': (context) => SecondPage(),
        },
        items: [
          NavbarItem(
            icon: Icons.home,
            label: 'Home',
            route: '/',
          ),
          NavbarItem(
            icon: Icons.settings,
            label: 'Settings',
            route: '/second',
          ),
        ],
      ),
    );
  }
}
```
Some of the common terms to understand in this package

### NavbarItem

It is a single item in the NavigationBar. It takes in the following parameters.

**icon**: The icon to be shown in the navbar.
**label**: The label to be shown in the navbar.
**route**: The route to be pushed when the NavbarItem is selected.

```dart

NavbarItem(
  icon: Icons.home,
  label: 'Home',
  route: '/',
),
```
### DestinationRouter

```dart
DestinationRouter(
  navbarItem: items[i],
  destinations: [
    for (int j = 0; j < _routes[i]!.keys.length; j++)
      Destination(
        route: _routes[i]!.keys.elementAt(j),
        widget: _routes[i]!.values.elementAt(j),
      ),
  ],
  initialRoute: _routes[i]!.keys.first,
),
```

### Destination

```dart
Destination(
  route: _routes[i]!.keys.elementAt(j),
  widget: _routes[i]!.values.elementAt(j),
),
```

Heres how the output of the above code sample will look.

![demo](https://user-images.githubusercontent.com/31410839/228031434-0e35737d-83cf-4b33-afe2-4b0f77f0cc5c.gif)
